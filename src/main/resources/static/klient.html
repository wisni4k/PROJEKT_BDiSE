<html ng-app="angularexample">
<head>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
<script src="http://cdn.jsdelivr.net/restangular/1.1.3/restangular.min.js"></script>
<script src="http://cdn.jsdelivr.net/underscorejs/1.5.1/underscore-min.js"></script>
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://pingendo.github.io/pingendo-bootstrap/themes/default/bootstrap.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
var angularExample =angular.module('angularexample',["restangular"])
angularExample.config(["RestangularProvider",function(RestangularProvider){
	RestangularProvider.setBaseUrl('/api');
}]);





angularExample.controller("MainCtrl",["Restangular","$scope","productData",function(Restangular,$scope,productData){
	$scope.allProducts = productData.customers().then(function(result){});
	$scope.getCustomer = function(customer) {
		console.log("6");
		var User = Restangular.all('customers');
		var oneUser = Restangular.one('customers', customer.id);
		oneUser.get().then(function(user) {
			  $scope.userek = user;
			  console.log($scope.userek)
			});
      };
      
    $scope.getAllCustomers = function() {
    	console.log("5");
    	var User = Restangular.all('customers');
    	User.getList()
    	.then(function(User) {
    	  // returns a list of users
    	  $scope.users = User[0];
    	  console.log($scope.users.customers);
    	})
    }
	
}])

angularExample.factory('productData', ['Restangular', function(Restangular){
    var Customer = Restangular.all('customers');
    return{
    	customers: function() { return Customer.getList(); }
    };
}]);
</script>
</head>

    <body>
    <div class="section section-primary">
      <div class="container">
        <div class="row">
          <div class="col-md-7">
            <h1 class="text-center">PODGLAD KLIENTOW</h1>
          </div>
          <div class="col-md-5">
            <a class="btn btn-info btn-lg" href="magazyn.html">START<br></a>
          </div>
        </div>
      </div>
    </div>
    <div ng-controller="MainCtrl"> 
<input type="submit" ng-click="getAllCustomers()" value="Pokaz wszytsko" />
	<table>
		<tr>
			<td>Nazwa</td>
			<td>Adres</td>
			<td>Nip</td>
			<td>Telefon</td>
		</tr>
  		<tr ng-repeat="n in users.customers">
    		<td>{{n.customer_name}}</td>
    		<td>{{n.customer_adress}}</td>
    		<td>{{n.nip}}</td>
    		<td>{{n.phone}}</td>
  		</tr>
	</table>

</div>
   
    
  

</body></html>